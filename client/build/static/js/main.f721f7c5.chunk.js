(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{36:function(e,t,c){},37:function(e,t,c){},63:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c(28),n=c.n(a),i=c(11),l=c(2),r=c(4),j=(c(36),c(37),c(17)),o=c.n(j),b=c(0);function d(){var e=Object(s.useRef)(null),t=Object(s.useRef)(null),c=Object(s.useState)(),a=Object(l.a)(c,2),n=a[0],i=a[1],r=Object(s.useState)(),j=Object(l.a)(r,2),d=j[0],u=j[1];return Object(s.useEffect)((function(){!function(){if(navigator.geolocation.getCurrentPosition((function(e){return i(e.coords.longitude)})),navigator.geolocation.getCurrentPosition((function(e){return u(e.coords.latitude)})),!t.current)n&&d?t.current=new o.a.Map({container:e.current,style:"mapbox://styles/mapbox/streets-v11",center:[n,d],zoom:9}):console.log("loading map...")}()}),[n,d]),Object(b.jsx)("div",{children:n&&d?Object(b.jsx)("div",{ref:e,className:"map-container"}):Object(b.jsx)("progress",{class:"progress is-medium is-primary",max:"100",children:"60%"})})}o.a.accessToken="pk.eyJ1IjoiZWFwLXdlYi1kZXYiLCJhIjoiY2t1MnFnbDdvMG1ycDMycWszczY0MjJzbyJ9.Hf0GSH22EZdVGAgnWIrXkQ";var u=c(31),O=["component","user","path","redirectPath"],h=function(e){var t=e.component,c=e.user,s=e.path,a=e.redirectPath,n=void 0===a?"/":a,l=Object(u.a)(e,O);return Object(b.jsx)(r.b,{exact:!0,path:s,render:function(e){return c?Object(b.jsx)(t,Object(i.a)(Object(i.a)(Object(i.a)({},e),l),{},{user:c})):Object(b.jsx)(r.a,{to:n})}})},m=c(6),x=c(3),p=c.n(x),v=p.a.create({baseURL:"http://localhost:5005/api"}),f=function(e){throw e};function g(e){var t=function(){p.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e.response.data})).then((function(){e.setUser(null)}))};return Object(b.jsx)("nav",{className:"navbar is-primary",role:"navigation","aria-label":"main navigation",children:e.user&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"navbar-brand",children:[Object(b.jsx)("figure",{class:"image is-64x64",children:Object(b.jsx)("img",{className:"navbar-item",src:"https://res.cloudinary.com/give-and-receive/image/upload/v1633515396/g-and-r/G_R-logo-transparent-500x500_afmgrh.png",alt:""})}),Object(b.jsxs)("a",{role:"button",className:"navbar-burger","data-target":"navMenu","aria-label":"menu","aria-expanded":"false",children:[Object(b.jsx)("span",{"aria-hidden":"true"}),Object(b.jsx)("span",{"aria-hidden":"true"}),Object(b.jsx)("span",{"aria-hidden":"true"})]})]}),Object(b.jsxs)("div",{id:"navMenu",className:"navbar-menu",children:[Object(b.jsx)("div",{className:"navbar-start",children:Object(b.jsxs)("div",{className:"buttons",children:[Object(b.jsx)("a",{className:"button is-light",children:Object(b.jsx)(m.b,{to:"/lovepieces",children:"All lovepieces"})}),Object(b.jsx)("a",{className:"button is-light",children:Object(b.jsx)(m.b,{to:"/about",children:"About G&R"})})]})}),Object(b.jsx)("div",{className:"navbar-end",children:Object(b.jsx)("div",{className:"navbar-item",children:Object(b.jsxs)("div",{className:"buttons",children:[Object(b.jsx)("a",{className:"button is-success is-light",children:Object(b.jsx)(m.b,{to:"/profile",children:e.user.username})}),Object(b.jsx)("a",{className:"button is-danger is-light",children:Object(b.jsx)(m.b,{to:"/",onClick:function(){return t()},children:"Logout"})})]})})})]})]})})}function N(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("section",{className:"box hero is-primary",children:Object(b.jsx)("div",{className:"hero-body",children:Object(b.jsxs)("div",{class:"columns is-centered",children:[Object(b.jsx)("div",{class:"column is-one-fifth is-centered",children:Object(b.jsx)("figure",{class:"image is-128x128",children:Object(b.jsx)("img",{className:"navbar-item",src:"https://res.cloudinary.com/give-and-receive/image/upload/v1633515396/g-and-r/G_R-logo-transparent-500x500_afmgrh.png",alt:""})})}),Object(b.jsxs)("div",{class:"column is-one-third",children:[Object(b.jsx)("h1",{className:"title is-3",children:"Give & Receive"}),Object(b.jsx)("p",{children:"G&R is based on the idea that we can all give something to help others when they are in need (things or time), and that we all need help from others sometimes."})]})]})})}),Object(b.jsx)("section",{children:Object(b.jsxs)("div",{className:"box",children:[Object(b.jsxs)("div",{className:"columns is-centered",children:[Object(b.jsx)("div",{className:"column is-one-fifth has-text-centered",children:Object(b.jsx)(m.b,{to:"/signup",children:Object(b.jsx)("button",{className:"button is-info",children:"Signup"})})}),Object(b.jsx)("div",{className:"column is-one-fifth has-text-centered",children:Object(b.jsx)(m.b,{to:"/login",children:Object(b.jsx)("button",{className:"button is-info",children:"Log in"})})})]}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{})]})})]})}function y(e){return Object(b.jsx)("div",{className:"card",children:Object(b.jsx)("div",{className:"card-content",children:Object(b.jsxs)("div",{className:"media",children:[Object(b.jsx)("div",{className:"media-left",children:Object(b.jsx)("figure",{className:"image is-48x48",children:e.owner.avatarUrl?Object(b.jsx)("img",{className:"is-rounded",src:e.owner.avatarUrl,alt:"Opps"}):Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("figure",{class:"image is-48x48",children:Object(b.jsx)("img",{class:"is-rounded",src:"https://res.cloudinary.com/give-and-receive/image/upload/v1633515396/g-and-r/G_R-logo-transparent-500x500_afmgrh.png"})})})})}),Object(b.jsxs)("div",{className:"media-content",children:[Object(b.jsx)(m.b,{to:"/lovepieces/".concat(e._id),children:Object(b.jsx)("h3",{children:e.title})}),Object(b.jsxs)("p",{className:"subtitle is-6",children:[e.type," of ",e.category," from ",e.owner.username]})]})]})})})}function S(e){var t=Object(s.useState)(e.user._id),c=Object(l.a)(t,2),a=c[0],n=(c[1],Object(s.useState)("")),i=Object(l.a)(n,2),r=(i[0],i[1]),j=Object(s.useState)(""),o=Object(l.a)(j,2),d=o[0],u=o[1],O=Object(s.useState)(""),h=Object(l.a)(O,2),m=h[0],x=h[1],v=Object(s.useState)(""),f=Object(l.a)(v,2),g=(f[0],f[1]),N=Object(s.useState)(!0),y=Object(l.a)(N,2),S=y[0],C=y[1],w=Object(s.useState)(""),F=Object(l.a)(w,2),k=F[0],_=F[1],U=Object(s.useState)([]),D=Object(l.a)(U,2),E=(D[0],D[1]),T=Object(s.useState)(""),L=Object(l.a)(T,2),A=L[0],G=L[1],R=Object(s.useState)(""),M=Object(l.a)(R,2),P=M[0],J=M[1],V=Object(s.useState)([]),W=Object(l.a)(V,2),z=W[0],I=W[1];return Object(b.jsx)("div",{children:Object(b.jsx)("form",{onSubmit:function(t){t.preventDefault();var c=new Date,s={owner:a,title:d,type:m,dateCreated:c,stillValid:S,description:k,coords:[],category:A,subCategory:P,tags:z};p.a.post("/api/lovepieces/add",s).then((function(t){r(""),u(""),x(""),g(""),C(!0),_(""),E([]),G(""),J(""),I(""),e.history.push("/lovepieces")})).catch((function(e){return console.log(e)}))},children:Object(b.jsxs)("div",{className:"box",children:[Object(b.jsx)("h3",{className:"title is-4",children:"Create your new lovepiece"}),Object(b.jsxs)("div",{className:"field is-grouped",children:[Object(b.jsxs)("div",{className:"field is-grouped",children:[Object(b.jsx)("label",{className:"label",htmlFor:"type",children:"Type: "}),Object(b.jsx)("div",{className:"select mx-5",children:Object(b.jsxs)("select",{name:"type",onChange:function(e){return x(e.target.value)},children:[Object(b.jsx)("option",{value:"",children:"Select the type"}),Object(b.jsx)("option",{value:"Offer",children:"Offer"}),Object(b.jsx)("option",{value:"Need",children:"Need"})]})})]}),Object(b.jsxs)("div",{className:"field is-grouped",children:[Object(b.jsx)("label",{className:"label",htmlFor:"category",children:"Category: "}),Object(b.jsx)("div",{className:"select mx-5",children:Object(b.jsxs)("select",{name:"category",onChange:function(e){return G(e.target.value)},children:[Object(b.jsx)("option",{value:"",children:"Select the category"}),Object(b.jsx)("option",{value:"Time",children:"Time"}),Object(b.jsx)("option",{value:"Stuff",children:"Stuff"})]})})]})]}),Object(b.jsxs)("div",{className:"box",children:[Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label",htmlFor:"title",children:"Lovepiece title: "}),Object(b.jsx)("input",{className:"input",placeholder:"Write a few words as title",type:"text",name:"title",value:d,onChange:function(e){return u(e.target.value)}})]}),Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label",children:"Description:"}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("textarea",{className:"textarea",placeholder:"Describe your lovepiece in more detail for other users",value:k,onChange:function(e){return _(e.target.value)}})})]}),Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label",htmlFor:"tags",children:"Add tags so other users can easily find your lovepiece (tags are separated by comma):"}),Object(b.jsx)("input",{className:"input",placeholder:"e.g. math, carpentry, weekend",type:"text",name:"tags",value:z,onChange:function(e){return I(e.target.value)}})]})]}),Object(b.jsx)("div",{className:"field",children:Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:"button is-primary",type:"submit",children:"Add this lovepiece"})})})]})})})}function C(e){var t=Object(s.useState)([]),c=Object(l.a)(t,2),a=c[0],n=c[1],r=Object(s.useState)("all"),j=Object(l.a)(r,2),o=j[0],u=j[1],O=Object(s.useState)("all"),h=Object(l.a)(O,2),x=h[0],v=h[1],f=Object(s.useState)(""),g=Object(l.a)(f,2),N=g[0],S=g[1];return Object(s.useEffect)((function(){p.a.get("/api/lovepieces").then((function(e){n(e.data.filter((function(e){return"Offer"===o?"Offer"===e.type:"Need"===o?"Need"===e.type:e})).filter((function(e){return"Time"===x?"Time"===e.category:"Stuff"===x?"Stuff"===e.category:e})).filter((function(e){return""!==N?e.tags.toLowerCase().includes(N.toLowerCase()):e})))})).catch((function(e){return console.log(e)}))}),[o,x,N]),Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"box",children:Object(b.jsxs)("div",{className:"columns",children:[Object(b.jsxs)("div",{className:"column",children:[Object(b.jsx)("div",{className:"block",children:Object(b.jsx)("h1",{className:"title is-4",children:"These are all the current lovepieces"})}),Object(b.jsxs)("div",{className:"block",children:[Object(b.jsxs)("div",{className:"field is-grouped",children:[Object(b.jsx)("div",{className:"select mb-4",children:Object(b.jsxs)("select",{name:"type",onChange:function(e){return u(e.target.value)},children:[Object(b.jsx)("option",{value:"all",children:"All types"}),Object(b.jsx)("option",{value:"Offer",children:"Offers"}),Object(b.jsx)("option",{value:"Need",children:"Needs"})]})}),Object(b.jsx)("div",{className:"select mx-5",children:Object(b.jsxs)("select",{name:"category",onChange:function(e){return v(e.target.value)},children:[Object(b.jsx)("option",{value:"all",children:"All categories"}),Object(b.jsx)("option",{value:"Time",children:"Time"}),Object(b.jsx)("option",{value:"Stuff",children:"Stuff"})]})})]}),Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label",htmlFor:"tags",children:"Search by one word:"}),Object(b.jsx)("input",{className:"input",placeholder:"e.g. math, carpentry, weekend",type:"text",name:"tags",value:N,onChange:function(e){return S(e.target.value)}})]})]}),Object(b.jsx)("div",{className:"block",children:a.map((function(e){return Object(b.jsx)(y,Object(i.a)({},e),e._id)}))}),Object(b.jsx)("div",{className:"block",children:Object(b.jsx)(m.b,{to:"/lovepieces/add",children:Object(b.jsx)("button",{className:"button is-primary",children:Object(b.jsx)("strong",{children:"Add a new lovepiece"})})})})]}),Object(b.jsxs)("div",{className:"column",children:[Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{className:"box",children:Object(b.jsx)(d,{})})]})]})})})}function w(e){var t=Object(s.useState)(""),c=Object(l.a)(t,2),a=c[0],n=c[1],i=Object(s.useState)(""),r=Object(l.a)(i,2),j=r[0],o=r[1],d=Object(s.useState)(""),u=Object(l.a)(d,2),O=u[0],h=u[1],m=Object(s.useState)(""),x=Object(l.a)(m,2),p=x[0],g=x[1],N=Object(s.useState)(""),y=Object(l.a)(N,2),S=y[0],C=y[1],w=Object(s.useState)(""),F=Object(l.a)(w,2),k=F[0],_=F[1],U=Object(s.useState)(""),D=Object(l.a)(U,2),E=D[0],T=D[1],L=Object(s.useState)(""),A=Object(l.a)(L,2),G=A[0],R=A[1];return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault(),function(e,t,c,s,a,n,i){return v.post("auth/signup",{username:e,password:t,email:c,city:s,country:a,about:n,avatarUrl:i}).then((function(e){return e.data})).catch((function(e){return e.response.data}))}(a,j,O,p,S,k,E).then((function(t){t.message?(n(""),o(""),h(""),g(""),C(""),_(""),T(""),R(t.message)):(e.setUser(t),e.history.push("/lovepieces"))})).catch((function(e){return console.log(e)}))},children:[Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{className:"columns is-centered",children:Object(b.jsxs)("div",{className:"box",children:[Object(b.jsx)("h3",{className:"title is-4",children:"Create your account"}),Object(b.jsxs)("div",{className:"field is-grouped",children:[Object(b.jsx)("label",{className:"label mr-3",htmlFor:"username",children:"Username: "}),Object(b.jsx)("input",{className:"input",type:"text",name:"username",value:a,onChange:function(e){return n(e.target.value)}})]}),Object(b.jsxs)("div",{className:"field is-grouped",children:[Object(b.jsx)("label",{className:"label mr-3",htmlFor:"password",children:"Password: "}),Object(b.jsx)("input",{className:"input",type:"password",name:"password",value:j,onChange:function(e){return o(e.target.value)}})]}),Object(b.jsxs)("div",{className:"field is-grouped",children:[Object(b.jsx)("label",{className:"label mr-3",htmlFor:"email",children:"Email: "}),Object(b.jsx)("input",{className:"input",type:"text",name:"email",value:O,onChange:function(e){return h(e.target.value)}})]}),Object(b.jsxs)("div",{className:"field is-grouped",children:[Object(b.jsx)("label",{className:"label mr-3",htmlFor:"city",children:"City: "}),Object(b.jsx)("input",{className:"input",type:"text",name:"city",value:p,onChange:function(e){return g(e.target.value)}})]}),Object(b.jsxs)("div",{className:"field is-grouped",children:[Object(b.jsx)("label",{className:"label mr-3",htmlFor:"country",children:"Country: "}),Object(b.jsx)("input",{className:"input",type:"text",name:"country",value:S,onChange:function(e){return C(e.target.value)}})]}),Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label",htmlFor:"about",children:"Tell other people something about you: "}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("textarea",{className:"textarea",value:k,onChange:function(e){return _(e.target.value)}})})]}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{class:"file has-name",children:Object(b.jsxs)("label",{class:"file-label",children:[Object(b.jsx)("input",{class:"file-input",type:"file",name:"resume",onChange:function(e){console.log("The file to be uploaded is: ",e.target.files[0]);var t,c=new FormData;c.append("avatarUrl",e.target.files[0]),(t=c,v.post("auth/upload",t).then((function(e){return e.data})).catch(f)).then((function(e){console.log("response is: ",e),T(e.secure_url)})).catch((function(e){return console.log("Error while uploading the file: ",e)}))}}),Object(b.jsxs)("span",{class:"file-cta",children:[Object(b.jsx)("span",{class:"file-icon",children:Object(b.jsx)("i",{class:"fas fa-upload"})}),Object(b.jsx)("span",{class:"file-label",children:"Upload your profile image"})]}),Object(b.jsx)("div",{class:"file-name",children:E?Object(b.jsx)("figure",{className:"image is-32x32",children:Object(b.jsx)("img",{className:"is-rounded",src:E})}):"No file uploaded"})]})}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{class:"buttons is-centered",children:Object(b.jsx)("button",{className:"button is-primary is-focused",type:"submit",children:"Create account"})}),G&&Object(b.jsx)("article",{class:"message is-dark",children:Object(b.jsx)("div",{class:"message-body",children:G})})]})}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{})]})})}function F(e){var t=Object(s.useState)(""),c=Object(l.a)(t,2),a=c[0],n=c[1],i=Object(s.useState)(""),r=Object(l.a)(i,2),j=r[0],o=r[1],d=Object(s.useState)(""),u=Object(l.a)(d,2),O=u[0],h=u[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{className:"columns is-centered",children:Object(b.jsxs)("div",{className:"box",children:[Object(b.jsx)("h3",{className:"title is-4",children:"Login"}),Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault(),function(e,t){return p.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))}(a,j).then((function(t){t.message?(n(""),o(""),h(t.message)):(e.setUser(t),e.history.push("/lovepieces"))})).catch((function(e){return console.log(e)}))},children:[Object(b.jsxs)("div",{className:"field is-grouped",children:[Object(b.jsx)("label",{className:"label mr-3",htmlFor:"username",children:"Username: "}),Object(b.jsx)("input",{className:"input",type:"text",name:"username",value:a,onChange:function(e){return n(e.target.value)}})]}),Object(b.jsxs)("div",{className:"field is-grouped",children:[Object(b.jsx)("label",{className:"label mr-3",htmlFor:"password",children:"Password: "}),Object(b.jsx)("input",{className:"input",type:"password",name:"password",value:j,onChange:function(e){return o(e.target.value)}})]}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{class:"buttons is-centered",children:Object(b.jsx)("button",{className:"button is-primary is-focused",type:"submit",children:"Log in"})}),O&&Object(b.jsx)("article",{class:"message is-dark",children:Object(b.jsx)("div",{class:"message-body",children:O})})]})]})}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{})]})}function k(e){var t=Object(s.useState)(e.user._id),c=Object(l.a)(t,2),a=c[0],n=(c[1],Object(s.useState)("")),i=Object(l.a)(n,2),r=i[0],j=i[1],o=Object(s.useState)(""),d=Object(l.a)(o,2),u=(d[0],d[1],Object(s.useState)("")),O=Object(l.a)(u,2),h=O[0],m=O[1],x=Object(s.useState)(""),v=Object(l.a)(x,2),f=v[0],g=v[1],N=Object(s.useState)(""),y=Object(l.a)(N,2),S=y[0],C=y[1],w=Object(s.useState)(""),F=Object(l.a)(w,2),k=F[0],_=F[1],U=Object(s.useState)(""),D=Object(l.a)(U,2),E=D[0],T=D[1],L=Object(s.useState)([]),A=Object(l.a)(L,2),G=A[0],R=A[1];Object(s.useEffect)((function(){p.a.get("/api/auth/loggedin").then((function(e){j(e.data.username),m(e.data.email),g(e.data.city),C(e.data.country),_(e.data.about),T(e.data.avatarUrl),R(e.data.favourites)})).catch((function(e){return console.log(e)}))}),[]);return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"column is-half ml-5",children:Object(b.jsxs)("div",{className:"box",children:[Object(b.jsxs)("div",{class:"columns",children:[Object(b.jsx)("div",{class:"column is-two-thirds",children:Object(b.jsxs)("h3",{className:"title is-4",children:["Update your profile, ",r]})}),Object(b.jsx)("div",{class:"column is-one-third",children:Object(b.jsx)("figure",{class:"image is-128x128",children:Object(b.jsx)("img",{src:E})})})]}),Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault();var c={username:r,email:h,city:f,country:S,about:k,avatarUrl:E,favourites:G};p.a.put("/api/auth/".concat(a),c).then((function(t){e.history.push("/lovepieces")})).catch((function(e){return console.log(e)}))},children:[Object(b.jsxs)("div",{className:"field is-grouped",children:[Object(b.jsx)("label",{className:"label mr-3",htmlFor:"email",children:"Email: "}),Object(b.jsx)("input",{className:"input",type:"text",name:"email",value:h,onChange:function(e){return m(e.target.value)}})]}),Object(b.jsxs)("div",{className:"field is-grouped",children:[Object(b.jsx)("label",{className:"label mr-3",htmlFor:"city",children:"City: "}),Object(b.jsx)("input",{className:"input",type:"text",name:"city",value:f,onChange:function(e){return g(e.target.value)}})]}),Object(b.jsxs)("div",{className:"field is-grouped",children:[Object(b.jsx)("label",{className:"label mr-3",htmlFor:"country",children:"Country: "}),Object(b.jsx)("input",{className:"input",type:"text",name:"country",value:S,onChange:function(e){return C(e.target.value)}})]}),Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label",htmlFor:"about",children:"About you: "}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("textarea",{className:"textarea",value:k,onChange:function(e){return _(e.target.value)}})})]}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{className:"field",children:Object(b.jsx)("button",{className:"button is-warning is-light is-focused",onClick:function(){},children:"Change your profile image"})}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{class:"buttons is-centered",children:Object(b.jsx)("button",{className:"button is-primary is-focused",type:"submit",children:"Save changes"})})]})]})}),Object(b.jsx)("br",{})]})}function _(){return Object(b.jsx)("div",{class:"columns is-centered",children:Object(b.jsxs)("div",{class:"column is-two-thirds",children:[Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("figure",{class:"image is-square",children:Object(b.jsx)("img",{src:"https://res.cloudinary.com/give-and-receive/image/upload/v1633599416/g-and-r/G_R-About-980x980_mptjr7.jpg"})}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{})]})})}function U(e){var t=e.payload;return Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:t}),Object(b.jsx)("br",{})]})}function D(e){var t=Object(s.useState)(null),c=Object(l.a)(t,2),a=c[0],n=c[1],r=Object(s.useState)(""),j=Object(l.a)(r,2),o=j[0],d=j[1],u=Object(s.useState)(""),O=Object(l.a)(u,2),h=O[0],x=O[1],v=Object(s.useState)(""),f=Object(l.a)(v,2),g=f[0],N=f[1],y=Object(s.useState)(""),S=Object(l.a)(y,2),C=(S[0],S[1],e.match.params.id),w=e.user._id,F=e.user.username;Object(s.useEffect)((function(){p.a.get("/api/lovepieces/".concat(C)).then((function(e){n(e.data),d(e.data.dateCreated.slice(8,10)+"/"+e.data.dateCreated.slice(5,7)+"/"+e.data.dateCreated.slice(0,4))})).catch((function(e){return console.log(e)}))}),[]),Object(s.useEffect)((function(){var e=(new Date).toLocaleString(),t="".concat(e,": ").concat(F," wrote ").concat(h);N(t)}),[h]);return Object(b.jsxs)("div",{children:[a&&Object(b.jsxs)("div",{className:"columns",children:[Object(b.jsx)("div",{className:"column",children:Object(b.jsx)("div",{className:"box",children:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"block",children:Object(b.jsxs)("div",{className:"media",children:[Object(b.jsx)("div",{className:"media-left",children:Object(b.jsx)("figure",{className:"image is-48x48",children:Object(b.jsx)("img",{className:"is-rounded",src:"https://bulma.io/images/placeholders/96x96.png",alt:"Placeholder image"})})}),Object(b.jsxs)("div",{className:"media-content",children:[Object(b.jsx)("h4",{children:Object(b.jsx)("strong",{children:a.owner.username})}),Object(b.jsxs)("h4",{children:["Lovepiece created on ",o]})]})]})}),Object(b.jsxs)("div",{className:"box",children:[Object(b.jsxs)("h2",{className:"title is-5",children:[Object(b.jsxs)("strong",{children:[a.type," of ",a.category,":"]})," ",a.title]}),Object(b.jsx)("p",{children:a.description}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsxs)("p",{children:[Object(b.jsx)("strong",{children:"Tags: "}),a.tags]})]}),a.owner._id===w&&Object(b.jsx)(m.b,{to:"/lovepieces/edit/".concat(a._id),children:Object(b.jsx)("button",{className:"button is-warning is-light",children:"Edit this lovepiece"})})]})})}),Object(b.jsxs)("div",{className:"column",children:[Object(b.jsx)("div",{className:"box",children:Object(b.jsxs)("div",{className:"block",children:[Object(b.jsx)("h1",{className:"title is-5",children:"Message board"}),a.board.map((function(e){return Object(b.jsx)(U,Object(i.a)({},e))}))]})}),Object(b.jsx)("div",{children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={payload:g};p.a.patch("/api/lovepieces/addmessage/".concat(C),t).then((function(e){x("")})).catch((function(e){return console.log(e)}))},children:[Object(b.jsx)("div",{className:"field",children:Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("textarea",{className:"textarea",placeholder:"Write your message here",value:h,onChange:function(e){return x(e.target.value)}})})}),Object(b.jsx)("button",{className:"button is-info",type:"submit",children:"Post this message to the board"})]})})]})]}),Object(b.jsx)("br",{})]})}function E(e){var t=Object(s.useState)(e.user._id),c=Object(l.a)(t,2),a=(c[0],c[1]),n=Object(s.useState)(""),i=Object(l.a)(n,2),r=i[0],j=i[1],o=Object(s.useState)(""),d=Object(l.a)(o,2),u=d[0],O=d[1],h=Object(s.useState)(""),m=Object(l.a)(h,2),x=m[0],v=m[1],f=Object(s.useState)(""),g=Object(l.a)(f,2),N=g[0],y=g[1],S=Object(s.useState)(""),C=Object(l.a)(S,2),w=C[0],F=C[1],k=Object(s.useState)(!0),_=Object(l.a)(k,2),U=_[0],D=_[1],E=Object(s.useState)(""),T=Object(l.a)(E,2),L=T[0],A=T[1],G=Object(s.useState)([]),R=Object(l.a)(G,2),M=R[0],P=R[1],J=Object(s.useState)(""),V=Object(l.a)(J,2),W=V[0],z=V[1],I=Object(s.useState)(""),Y=Object(l.a)(I,2),X=Y[0],Z=Y[1],H=Object(s.useState)([]),q=Object(l.a)(H,2),B=q[0],Q=q[1],K=e.match.params.id;Object(s.useEffect)((function(){p.a.get("/api/lovepieces/".concat(K)).then((function(e){console.log("use effect: ",e.data),a(e.data.user),j(e.data.owner._id),O(e.data.title),v(e.data.type),y(e.data.dateCreated),F(e.data.dateCreated.slice(8,10)+"/"+e.data.dateCreated.slice(5,7)+"/"+e.data.dateCreated.slice(0,4)),D(e.data.stillValid),A(e.data.description),P(e.data.coords),z(e.data.category),Z(e.data.subCategory),Q(e.data.tags)})).catch((function(e){return console.log(e)}))}),[]);return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"box",children:[Object(b.jsx)("h3",{className:"title is-4",children:"Edit your lovepiece"}),Object(b.jsxs)("h4",{className:"subtitle is-6",children:["Created on ",w]}),Object(b.jsxs)("h4",{children:[Object(b.jsx)("strong",{children:"Type: "}),x]}),Object(b.jsxs)("h4",{children:[Object(b.jsx)("strong",{children:"Category: "}),W]}),Object(b.jsx)("br",{}),Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault();var c={owner:r,title:u,type:x,dateCreated:N,stillValid:U,description:L,coords:M,category:W,subCategory:X,tags:B};p.a.put("/api/lovepieces/".concat(K),c).then((function(t){e.history.push("/lovepieces/".concat(K))})).catch((function(e){return console.log(e)}))},children:[Object(b.jsxs)("div",{className:"box",children:[Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{class:"checkbox",children:"Still active? "}),Object(b.jsx)("input",{className:"ml-2",type:"checkbox",name:"stillValid",checked:U,onChange:function(e){D(!U)}})]}),Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label",htmlFor:"title",children:"Lovepiece title: "}),Object(b.jsx)("input",{className:"input",type:"text",name:"title",value:u,onChange:function(e){return O(e.target.value)}})]}),Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label",children:"Description"}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("textarea",{className:"textarea",value:L,onChange:function(e){return A(e.target.value)}})})]}),Object(b.jsxs)("div",{className:"field",children:[Object(b.jsx)("label",{className:"label",htmlFor:"tags",children:"Tags: "}),Object(b.jsx)("input",{className:"input",type:"text",name:"tags",value:B,onChange:function(e){return Q(e.target.value)}})]}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{className:"button is-primary",type:"submit",children:"Update this lovepiece"})]}),Object(b.jsx)("br",{})]}),Object(b.jsx)("button",{className:"button is-danger ml-5",onClick:function(){p.a.delete("/api/lovepieces/".concat(K)).then((function(){e.history.push("/lovepieces")})).catch((function(e){return console.log(e)}))},children:"Delete this lovepiece"}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{})]})})}function T(){return Object(b.jsx)("footer",{className:"footer",children:Object(b.jsx)("div",{class:"columns is-centered",children:Object(b.jsxs)("div",{className:"column is-one-third is-centered",children:[Object(b.jsx)("figure",{className:"image",children:Object(b.jsx)("img",{src:"https://res.cloudinary.com/give-and-receive/image/upload/v1633514332/g-and-r/hands-transparent-500x305_kipvgr.png"})}),Object(b.jsx)("div",{className:"content has-text-centered",children:Object(b.jsxs)("p",{children:[Object(b.jsx)("strong",{children:"Give and Receive"})," - created by Esteban, with lots of effort and love."]})})]})})})}var L=function(e){var t=Object(s.useState)(e.user),c=Object(l.a)(t,2),a=c[0],n=c[1],j=function(e){return n(e)};return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(g,{user:a,setUser:j}),Object(b.jsxs)(r.d,{children:[Object(b.jsx)(r.b,{exact:!0,path:"/",component:N}),Object(b.jsx)(r.b,{exact:!0,path:"/signup",render:function(e){return Object(b.jsx)(w,Object(i.a)({setUser:j},e))}}),Object(b.jsx)(r.b,{exact:!0,path:"/login",render:function(e){return Object(b.jsx)(F,Object(i.a)({setUser:j},e))}}),Object(b.jsx)(h,{exact:!0,path:"/lovepieces",user:a,component:C}),Object(b.jsx)(h,{exact:!0,path:"/lovepieces/add",user:a,component:S}),Object(b.jsx)(h,{exact:!0,path:"/lovepieces/:id",user:a,component:D}),Object(b.jsx)(h,{exact:!0,path:"/lovepieces/edit/:id",user:a,component:E}),Object(b.jsx)(h,{exact:!0,path:"/profile",user:a,component:k}),Object(b.jsx)(h,{exact:!0,path:"/about",user:a,component:_})]}),Object(b.jsx)(T,{})]})};p.a.get("/api/auth/loggedin").then((function(e){var t=e.data;n.a.render(Object(b.jsx)(m.a,{children:Object(b.jsx)(L,{user:t})}),document.getElementById("root"))}))}},[[63,1,2]]]);
//# sourceMappingURL=main.f721f7c5.chunk.js.map