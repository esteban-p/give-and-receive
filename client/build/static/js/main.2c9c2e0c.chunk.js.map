{"version":3,"sources":["components/Map.js","components/ProtectedRoute.js","services/auth.js","components/Navbar.js","pages/Landing.js","components/LovepieceCard.js","pages/AddLovepiece.js","pages/Lovepieces.js","pages/Signup.js","pages/Login.js","pages/Profile.js","pages/About.js","components/MessageCard.js","pages/LovepieceDetails.js","pages/EditLovepiece.js","components/Footer.js","pages/Conversation.js","App.js","index.js"],"names":["Map","mapContainer","useRef","map","useState","lng","setLng","lat","setLat","useEffect","navigator","geolocation","getCurrentPosition","res","coords","longitude","latitude","current","mapboxgl","container","style","center","zoom","console","log","createInitialMap","ref","className","class","max","accessToken","ProtectedRoute","Component","component","user","path","redirectPath","rest","exact","render","props","to","service","axios","create","baseURL","errorHandler","err","Navbar","handleLogout","delete","then","response","data","catch","setUser","role","src","alt","id","username","onClick","Landing","LovepieceCard","owner","avatarUrl","_id","title","type","category","AddLovepiece","setOwner","setTitle","setType","setDateCreated","stillValid","setStillValid","description","setDescription","setCoords","setCategory","subCategory","setSubCategory","tags","setTags","onSubmit","e","preventDefault","today","Date","requestBody","dateCreated","post","history","push","htmlFor","name","onChange","target","value","placeholder","Lovepieces","lovepieces","setLovepieces","typeFilter","setTypeFilter","categoryFilter","setCategoryFilter","tagsFilter","setTagsFilter","get","filter","lovepiece","toLowerCase","includes","Signup","setUsername","password","setPassword","email","setEmail","city","setCity","country","setCountry","about","setAbout","setAvatarUrl","message","setMessage","signup","files","file","uploadData","FormData","append","secure_url","Login","login","Profile","favourites","setFavourites","put","About","MessageCard","line","payload","socket","socketIOClient","LovepieceDetails","API_URL","setLovepiece","formattedDateCreated","setFormattedDateCreated","setPayload","socketMessage","setSocketMessage","lovepieceId","match","params","slice","toLocaleString","messageToPost","on","content","emittedMessage","board","patch","emit","EditLovepiece","checked","event","Footer","Conversation","App","addUser","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.2c9c2e0c.chunk.js","sourcesContent":["import '../App.css';\nimport '../mapbox-gl.css';\nimport React, { useRef, useEffect, useState } from 'react';\nimport mapboxgl from '!mapbox-gl'; // eslint-disable-line import/no-webpack-loader-syntax\n// import mapboxgl from 'mapbox-gl';\nmapboxgl.accessToken = 'pk.eyJ1IjoiZWFwLXdlYi1kZXYiLCJhIjoiY2t1MnFnbDdvMG1ycDMycWszczY0MjJzbyJ9.Hf0GSH22EZdVGAgnWIrXkQ';\n\n\nexport default function Map() {\n\n  const mapContainer = useRef(null);\n  const map = useRef(null);\n  const [lng, setLng] = useState();\n  const [lat, setLat] = useState();\n\n\n  const createInitialMap = () => {\n\n    navigator.geolocation.getCurrentPosition(res => setLng(res.coords.longitude));\n    navigator.geolocation.getCurrentPosition(res => setLat(res.coords.latitude));\n\n    if (map.current) return; // initialize map only once\n    \n    if (!lng || !lat) {\n      console.log('loading map...'); // add a \"loading spinner\" later if possible\n    } else {\n      map.current = new mapboxgl.Map({\n        container: mapContainer.current,\n        style: 'mapbox://styles/mapbox/streets-v11',\n        center: [lng, lat],\n        zoom: 9\n      });\n    }\n    // Clean up on unmount\n    return () => map.remove();\n  }\n\n\n\n  useEffect(() => {\n    createInitialMap();\n  }, [lng, lat]);\n\n\n\n  return (\n\n    <div>\n      {lng && lat ? (\n        <div ref={mapContainer} className=\"map-container\" />\n      ) : (\n        \n        <progress class=\"progress is-medium is-primary\" max=\"100\">60%</progress>\n      )}\n    \n    </div>\n\n  )\n}\n\n\n\n\n\n// ---\n// <progress class=\"progress is-small is-primary\" max=\"100\">15%</progress>\n// <progress class=\"progress is-danger\" max=\"100\">30%</progress>\n// <progress class=\"progress is-medium is-dark\" max=\"100\">45%</progress>\n// <progress class=\"progress is-large is-info\" max=\"100\">60%</progress>\n// ---\n\n\n\n\n\n\n\n\n\n\n\n// --- \n// Copied from Mapbox tutorial to update map center coords \n// based on the user moving the map. Not needed for now. \n// ---\n\n      // useEffect(() => {\n      //   if (!map.current) return; // wait for map to initialize\n      //   map.current.on('move', () => {\n      //   setLng(map.current.getCenter().lng.toFixed(4));\n      //   setLat(map.current.getCenter().lat.toFixed(4));\n      //   setZoom(map.current.getZoom().toFixed(2));\n      //   });\n      // });\n\n\n\n  // --- \n  // Copied from Mapbox tutorials in github. I cannot make them work. \n  // ---\n\n      // Add navigation control (the +/- zoom buttons)\n      // map.addControl(new mapboxgl.NavigationControl(), 'top-right');\n      \n      // Change cursor to pointer when user hovers over a clickable feature\n      // map.on('mouseenter', e => {\n      //   if (e.features.length) {\n      //     map.getCanvas().style.cursor = 'pointer';\n      //   }\n      // });","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\n\nconst ProtectedRoute = ({\n\tcomponent: Component,\n\tuser,\n\tpath,\n\tredirectPath = '/',\n\t...rest\n}) => {\n\treturn (\n\t\t<Route\n\t\t\texact path={path}\n\t\t\trender={props => {\n\t\t\t\treturn user ? (\n\t\t\t\t\t<Component {...props} {...rest} user={user} />\n\t\t\t\t) : (\n\t\t\t\t\t<Redirect to={redirectPath} />\n\t\t\t\t)\n\t\t\t}}\n\t\t/>\n\t)\n}\nexport default ProtectedRoute;","import axios from 'axios';\n\n\n\n\t\t\t\t\t\tconst service = axios.create({\n\t\t\t\t\t\t\t// make sure you use PORT = 5005 (the port where our server is running)\n\t\t\t\t\t\t\tbaseURL: 'http://localhost:5005/api'\n\t\t\t\t\t\t\t// withCredentials: true // => you might need this when having the users in the app\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tconst errorHandler = err => {\n\t\t\t\t\t\t\tthrow err;\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tconst handleUpload = file => {\n\t\t\t\t\t\t\treturn service\n\t\t\t\t\t\t\t\t// .post('/upload', file)\n\t\t\t\t\t\t\t\t.post('auth/upload', file)\n\t\t\t\t\t\t\t\t// .post('/api/auth/upload', file)\n\t\t\t\t\t\t\t\t.then(res => res.data)\n\t\t\t\t\t\t\t\t.catch(errorHandler);\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tconst signup = (username, password, email, city, country, about, avatarUrl) => {\n\t\t\t\t\t\t\treturn service\n\t\t\t\t\t\t\t\t.post('auth/signup', { username, password, email, city, country, about, avatarUrl })\n\t\t\t\t\t\t\t\t.then(response => {\n\t\t\t\t\t\t\t\t\treturn response.data;\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\t\t\treturn err.response.data;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\n\n// --- Before adding cloudinary ---\n// const signup = (username, password, email, city, country, about, avatarUrl) => {\n// \treturn axios.post('/api/auth/signup', { username, password, email, city, country, about, avatarUrl })\n// \t\t.then(response => {\n// \t\t\treturn response.data;\n// \t\t})\n// \t\t.catch(err => {\n// \t\t\treturn err.response.data;\n// \t\t});\n// }\n\nconst login = (username, password) => {\n\treturn axios.post('/api/auth/login', { username, password })\n\t\t.then(response => {\n\t\t\treturn response.data;\n\t\t})\n\t\t.catch(err => {\n\t\t\treturn err.response.data;\n\t\t});\n}\n\nconst logout = () => {\n\treturn axios.delete('/api/auth/logout')\n\t\t.then(response => {\n\t\t\treturn response.data;\n\t\t})\n\t\t.catch(err => {\n\t\t\treturn err.response.data;\n\t\t});\n}\n\nconst loggedinUser = () => {\n\treturn axios.get('/api/auth/loggedin')\n  .then(response => {\n\t\treturn response.data;\n\t})\n\t.catch(err => {\n\t\treturn err.response.data;\n\t});\n}\n\n\n// export { signup, login, logout, loggedinUser };\nexport { signup, login, logout, loggedinUser, service, handleUpload };\n\n\n\n\n","import { useState } from 'react';\nimport { Link, NavLink } from 'react-router-dom';\nimport { logout, loggedinUser } from '../services/auth';\n\n\nexport default function Navbar(props) {\n\n  // console.log('Navbar props user: ', props.user);\n\n\tconst handleLogout = () => {\n\t\tlogout().then(() => {\n\t\t\tprops.setUser(null);\n\t\t})\n\t}\n\n  // const [userForButton, setUserForButton] = useState('');\n  // const getUserForButton = () => {\n  //   loggedinUser()\n  //     .then(response => {\n  //       // console.log(response._id);\n  //       setUserForButton(response._id);\n  //     })\n  // }\n  // getUserForButton();\n\n  return (\n\n  \n    <nav className=\"navbar is-primary\" role=\"navigation\" aria-label=\"main navigation\">\n      {props.user && (\n        <>\n              \n            {/* -- Original navbar --\n            <Link to=\"/about\"><button>About G&R</button></Link>\n            <Link to=\"/lovepieces\"><button  className=\"button is-primary\" >All lovepieces</button></Link>\n            <Link to=\"/profile\"><button>{props.user.username}</button></Link>\n            <Link to=\"/\" onClick={() => handleLogout()}>\n              <button>Logout</button>\n            </Link>\n            -- End of original navbar -- */}\n\n\n            <div className=\"navbar-brand\">\n              <figure class=\"image is-64x64\">\n              {/* <a className=\"navbar-item\" > */}\n                <img className=\"navbar-item\" src=\"https://res.cloudinary.com/give-and-receive/image/upload/v1633515396/g-and-r/G_R-logo-transparent-500x500_afmgrh.png\" alt=\"\" />\n              {/* </a> */}\n              </figure>\n\n              <a role=\"button\" className=\"navbar-burger\" data-target=\"navMenu\" aria-label=\"menu\" aria-expanded=\"false\">\n                <span aria-hidden=\"true\"></span>\n                <span aria-hidden=\"true\"></span>\n                <span aria-hidden=\"true\"></span>\n              </a>\n            </div>\n\n            <div id=\"navMenu\" className=\"navbar-menu\">\n              <div className=\"navbar-start\">\n                <div className=\"buttons\">\n                  <a className=\"button is-light\">\n                    <Link to=\"/lovepieces\">\n                      All lovepieces\n                    </Link>\n                  </a>\n                  <a className=\"button is-light\">\n                    <Link to=\"/about\">\n                      About G&R\n                    </Link>\n                  </a>\n                </div>\n              </div>\n              <div className=\"navbar-end\">\n                <div className=\"navbar-item\">\n                  <div className=\"buttons\">\n                    <a className=\"button is-success is-light\">\n                      <Link to=\"/profile\">\n                        {props.user.username}\n                      </Link>\n                    </a>\n                    <a className=\"button is-danger is-light\">\n                      <Link to=\"/\" onClick={() => handleLogout()}>\n                        Logout\n                      </Link>\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n        </>\n      )}\n    </nav>\n\n\n  )\n}\n  \n// style=\"color:black;\"\n  ","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default function Landing() {\n\n  return (\n    <div>\n\n      <section className=\"box hero is-primary\">\n        <div className=\"hero-body\">\n                <div class=\"columns is-centered\">\n                  <div class=\"column is-one-fifth is-centered\">\n                    <figure class=\"image is-128x128\">\n                      <img className=\"navbar-item\" src=\"https://res.cloudinary.com/give-and-receive/image/upload/v1633515396/g-and-r/G_R-logo-transparent-500x500_afmgrh.png\" alt=\"\" />\n                    </figure>\n                  </div>\n                  <div class=\"column is-one-third\">\n                    <h1 className=\"title is-3\">Give & Receive</h1> \n                    <p>\n                    G&R is based on the idea that we can all give something to help others when they are in need (things or time), and that we all need help from others sometimes.\n                    </p>\n                  </div>\n                </div>\n\n          {/* <div className=\"container\">\n            <h1 className=\"title is-2\">Welcome to Give & Receive</h1>      \n            <h2 className=\"subtitle is-4\">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas rhoncus, elit id imperdiet gravida, massa lectus dignissim velit, sed egestas ante lectus eget diam. Nulla porttitor egestas est. Phasellus facilisis ullamcorper semper. Interdum et malesuada fames ac ante ipsum primis in faucibus. Sed bibendum nulla id ipsum porta, eu aliquet tortor aliquam. Quisque ut porta felis. Maecenas vel arcu magna. Quisque elementum facilisis placerat.</h2>\n          </div> */}\n        </div>\n      </section>\n\n      <section>\n        <div className=\"box\">\n          <div className=\"columns is-centered\">\n            <div className=\"column is-one-fifth has-text-centered\">\n                  <Link to=\"/signup\">\n                    <button className=\"button is-info\">Signup</button>\n                  </Link>\n            </div>\n            <div className=\"column is-one-fifth has-text-centered\">\n                  <Link to=\"/login\">\n                  <button className=\"button is-info\">Log in</button>\n                  </Link>\n            </div>\n          </div>\n          <br /><br />\n        </div>\n      </section>\n\n    </div>\n  )\n}\n\n\n// <div className=\"columns\">\n// <div className=\"column\">\n//   <div className=\"card\">\n//     <div className=\"card-content\">\n//       <Link to=\"/signup\">\n//         <button className=\"button is-warning\">Signup</button>\n//       </Link>\n//     </div>\n//   </div>\n// </div>\n// <div className=\"column\">\n//   <div className=\"card\">\n//     <div className=\"card-content\">\n//       <Link to=\"/signup\">\n//       <button className=\"button is-warning\">Log In</button>\n//       </Link>\n//     </div>\n//   </div>\n// </div>\n// </div>","import { Link } from 'react-router-dom';\n\n\n// here we destructure the fields from the props object\nexport default function LovepieceCard(props) {\n\t\n\n\n\n\treturn (\n\t\t\n\t\t<div className=\"card\">\n\t\t\t<div className=\"card-content\">\n\t\t\t\t<div className=\"media\">\n\t\t\t\t\t<div className=\"media-left\">\n\t\t\t\t\t\t<figure className=\"image is-48x48\">\n\t\t\t\t\t\t\t{props.owner.avatarUrl ? (\n\t\t\t\t\t\t\t\t<img className=\"is-rounded\" src={props.owner.avatarUrl} alt=\"Opps\" />\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<figure class=\"image is-48x48\">\n\t\t\t\t\t\t\t\t\t<img class=\"is-rounded\" src=\"https://res.cloudinary.com/give-and-receive/image/upload/v1633515396/g-and-r/G_R-logo-transparent-500x500_afmgrh.png\" />\n\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"media-content\">\n\t\t\t\t\t\t<Link to={`/lovepieces/${props._id}`}>\n\t\t\t\t\t\t\t<h3>{props.title}</h3>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<p className=\"subtitle is-6\">{props.type} of {props.category} from {props.owner.username}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t)\n}\n\n\n\n// \"https://bulma.io/images/placeholders/96x96.png\"\n\n\n// --- Original card before styling with Bulma ---\n// return (\n// \t<div>\n// \t\t<p>{props.type} from {props.owner.username}</p>\n// \t\t<Link to={`/lovepieces/${props._id}`}>\n// \t\t\t<h3>{props.title}</h3>\n// \t\t</Link>\n// \t</div>\n// )\n","import { useState } from 'react';\nimport axios from 'axios';\n\nexport default function AddLovepiece(props) {\n\n \n  // const user = props.user._id;\n  // console.log(user);\n\n  const API_URL = 'http://localhost:5005';\n\n  const [user, setUser] = useState(props.user._id)\n  const [owner, setOwner] = useState('');\n  const [title, setTitle] = useState('');\n\tconst [type, setType] = useState('');\n  const [dateCreated, setDateCreated] = useState('');\n  const [stillValid, setStillValid] = useState(true);\n  const [description, setDescription] = useState('');\n  const [coords, setCoords] = useState([]);\n  const [category, setCategory] = useState('');\n  const [subCategory, setSubCategory] = useState('');\n  const [tags, setTags] = useState([]);\n\n\n\tconst handleSubmit = e => {\n\t\te.preventDefault();\n\n    const today = new Date();\n\n\t\t// make a post request to the server with the form fields in the body\n\t\tconst requestBody = { \n      owner: user,\n      title, \n      type, \n      dateCreated: today,\n      stillValid,\n      description,\n      coords: [],\n      category,\n      subCategory,\n      tags\n    };\n\n\n\n\t\taxios.post(`${API_URL}/api/lovepieces/add`, requestBody)\n\t\t\t.then(response => {\n\t\t\t\t// reset the state and thereby reset the form\n\t\t\t\tsetOwner('');\n        setTitle('');\n        setType('');\n        setDateCreated('');\n        setStillValid(true);\n\t\t\t\tsetDescription('');\n        setCoords([]);\n        setCategory('');\n        setSubCategory('');\n\t\t\t\tsetTags('');\n\n\n\t\t\t\t// we need to trigger 'getAllLovepieces' in the Lovepieces component\n\t\t\t\t// props.refreshLovepieces();\n        props.history.push('/lovepieces');\n\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\n\n\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n\n\t\t\t\t<div className=\"box\">\n\n\t\t\t\t\t<h3 className=\"title is-4\" >Create your new lovepiece</h3>\n\n\t\t\t\t\t<div className=\"field is-grouped\">\n\t\t\t\t\t\t<div className=\"field is-grouped\">\n\t\t\t\t\t\t\t<label className=\"label\" htmlFor=\"type\">Type: </label>\n\t\t\t\t\t\t\t\t<div className=\"select mx-5\">\n\t\t\t\t\t\t\t\t\t<select \n\t\t\t\t\t\t\t\t\t\tname=\"type\"\n\t\t\t\t\t\t\t\t\t\tonChange={e => setType(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option value=\"\">Select the type</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"Offer\">Offer</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"Need\">Need</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"field is-grouped\">\t\n\t\t\t\t\t\t\t<label className=\"label\" htmlFor=\"category\">Category: </label>\n\t\t\t\t\t\t\t<div className=\"select mx-5\">\n\t\t\t\t\t\t\t\t<select \n\t\t\t\t\t\t\t\t\tname=\"category\"\n\t\t\t\t\t\t\t\t\tonChange={e => setCategory(e.target.value)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"\">Select the category</option>\n\t\t\t\t\t\t\t\t\t<option value=\"Time\">Time</option>\n\t\t\t\t\t\t\t\t\t<option value=\"Stuff\">Stuff</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"box\">\n\t\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t\t<label className=\"label\" htmlFor=\"title\">Lovepiece title: </label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName=\"input\"\n\t\t\t\t\t\t\t\tplaceholder=\"Write a few words as title\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\t\tonChange={e => setTitle(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t\t<label className=\"label\">Description:</label>\n\t\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t\t<textarea \n\t\t\t\t\t\t\t\t\tclassName=\"textarea\" \n\t\t\t\t\t\t\t\t\tplaceholder=\"Describe your lovepiece in more detail for other users\"\n\t\t\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\t\t\tonChange={e => setDescription(e.target.value)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</textarea>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t\t<label className=\"label\" htmlFor=\"tags\">Add tags so other users can easily find your lovepiece (tags are separated by comma):</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName=\"input\"\n\t\t\t\t\t\t\t\tplaceholder=\"e.g. math, carpentry, weekend\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname=\"tags\"\n\t\t\t\t\t\t\t\tvalue={tags}\n\t\t\t\t\t\t\t\tonChange={e => setTags(e.target.value)}\n\t\t\t\t\t\t\t/>    \n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\n\n\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t{/* <div className=\"control\">\t */}\n\t\t\t\t\t\t<div>\t\n\t\t\t\t\t\t\t<button className=\"button is-primary\" type=\"submit\">Add this lovepiece</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\n\n\n\t\t\t</form>\n    </div>\n  )\n}\n\n\n\n\n\n\n\n\n\n\n{/* <div className=\"field is-grouped\">\t\n\t<label className=\"label\" htmlFor=\"subCategory\">Sub-category: </label>\n\t<div className=\"select\">\n\t\t<select \n\t\t\tname=\"subCategory\"\n\t\t\tonChange={e => setType(e.target.value)}\n\t\t\t>\n\t\t\t<option value=\"\">Select the sub-category</option>\n\t\t\t<option value=\"time\">a</option>\n\t\t\t<option value=\"time\">b</option>\n\t\t\t<option value=\"time\">c</option>\n\t\t\t<option value=\"time\">d</option>\n\t\t\t<option value=\"time\">e</option>\n\t\t\t<option value=\"time\">f</option>\n\t\t</select>\n\t</div>\t\n</div> */}","import { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport Map from '../components/Map';\nimport LovepieceCard from '../components/LovepieceCard';\nimport AddLovepiece from './AddLovepiece';\n\n\n\nexport default function Lovepieces(props) {\n\n  // console.log('lovepieces user from app: ', props.user)\n\n  const API_URL = 'http://localhost:5005';\n  const [lovepieces, setLovepieces] = useState([]);\n  const [typeFilter, setTypeFilter] = useState('all');\n  const [categoryFilter, setCategoryFilter] = useState('all');\n  const [tagsFilter, setTagsFilter] = useState('');\n\n  const getAllLovepieces = () => {\n\t\taxios.get(`${API_URL}/api/lovepieces`)\n\t\t\t.then(response => {\n        // console.log('all the response before filters: ', response.data);\n        // console.log('tagsFilter: ', tagsFilter);\n\t\t\t\tsetLovepieces(response.data\n          .filter(lovepiece => {\n            if (typeFilter === 'Offer') return lovepiece.type === 'Offer';\n            else if (typeFilter === 'Need') return lovepiece.type === 'Need';\n            else return lovepiece;\n          })\n          .filter(lovepiece => {\n            if (categoryFilter === 'Time') return lovepiece.category === 'Time';\n            else if (categoryFilter === 'Stuff') return lovepiece.category === 'Stuff';\n            else return lovepiece;\n          })\n          .filter(lovepiece => {\n            if (tagsFilter !== '') return lovepiece.tags.toLowerCase().includes(tagsFilter.toLowerCase());\n            else return lovepiece;\n          })\n        );\n\t\t\t})\n\t\t\t.catch(err => console.log(err));\n\t}\n\n\n  useEffect(() => {\n\t\tgetAllLovepieces();\n\t}, [typeFilter, categoryFilter, tagsFilter])\n\n\n\n\n\n  return (\n    <div>\n      \n      <div className=\"box\">\n        <div className=\"columns\">\n\n          <div className=\"column\">\n            <div className=\"block\">\n              <h1 className=\"title is-4\">These are all the current lovepieces</h1>\n            </div>\n            <div className=\"block\">\n              <div className=\"field is-grouped\">\t\n                <div className=\"select mb-4\">\n                  <select \n                    name=\"type\"\n                    onChange={e => setTypeFilter(e.target.value)}\n                    >\n                    <option value=\"all\">All types</option>\n                    <option value=\"Offer\">Offers</option>\n                    <option value=\"Need\">Needs</option>\n                  </select>\n                </div>\t\n                <div className=\"select mx-5\">\n                  <select \n                    name=\"category\"\n                    onChange={e => setCategoryFilter(e.target.value)}\n                    >\n                    <option value=\"all\">All categories</option>\n                    <option value=\"Time\">Time</option>\n                    <option value=\"Stuff\">Stuff</option>\n                  </select>\n                </div>\t\n              </div>\n\t\n              \n              <div className=\"field\">\n                  <label className=\"label\" htmlFor=\"tags\">Search by one word:</label>\n                  <input\n                    className=\"input\"\n                    placeholder=\"e.g. math, carpentry, weekend\"\n                    type=\"text\"\n                    name=\"tags\"\n                    value={tagsFilter}\n                    onChange={e => setTagsFilter(e.target.value)}\n                  />    \n              </div>\n            </div>\n            <div className=\"block\">\n              {lovepieces.map(lovepiece => <LovepieceCard key={lovepiece._id} {...lovepiece} />)}\n            </div>\n            <div className=\"block\">\n              <Link to=\"/lovepieces/add\">\n                <button className=\"button is-primary\"><strong>Add a new lovepiece</strong></button>\n              </Link>\n            </div>\n          </div>\n          <div className=\"column\"> \n            <br /><br />\n            <div className=\"box\">\n              <Map />\n            </div>\n          </div>\n\n        </div>\n      </div>\n\n\n    </div>\n  )\n}\n\n\n\n\n\n\n\n\n\n\n\n// --- WORKS OK: getAllLovepieces before any filters ---\n  // const getAllLovepieces = () => {\n\t// \taxios.get(`${API_URL}/api/lovepieces`)\n\t// \t\t.then(response => {\n\t// \t\t\t// console.log(response.data);\n\t// \t\t\tsetLovepieces(response.data);\n\t// \t\t})\n\t// \t\t.catch(err => console.log(err));\n\t// }\n\n\n// --- WORKS OK: getAllLovepieces with the type filter ---\n  // const getAllLovepieces = () => {\n\t// \taxios.get(`${API_URL}/api/lovepieces`)\n\t// \t\t.then(response => {\n\t// \t\t\tconsole.log('all response.data: ', response.data);\n\t// \t\t\tsetLovepieces(\n  //         response.data.filter(lovepiece => {\n  //           if (searchType === 'offer') return lovepiece.type === 'offer';\n  //           if (searchType === 'need') return lovepiece.type === 'need';\n  //           else return lovepiece\n  //         })\n  //       );\n\t// \t\t})\n\t// \t\t.catch(err => console.log(err));\n\t// }\n\n\n// --- WORKS OK: getAllLovepieces with the type and category filters ---\n  // const getAllLovepieces = () => {\n\t// \taxios.get(`${API_URL}/api/lovepieces`)\n\t// \t\t.then(response => {\n\t// \t\t\tsetLovepieces(response.data\n  //         .filter(lovepiece => {\n  //           if (searchFilter === 'offer') return lovepiece.type === 'offer';\n  //           else if (searchFilter === 'need') return lovepiece.type === 'need';\n  //           else return lovepiece;\n  //         })\n  //         .filter(lovepiece => {\n  //           if (categoryFilter === 'time') return lovepiece.category === 'time';\n  //           else if (categoryFilter === 'stuff') return lovepiece.category === 'stuff';\n  //           else return lovepiece;\n  //         })\n  //       );\n\t// \t\t})\n\t// \t\t.catch(err => console.log(err));\n\t// }","import { useState } from 'react';\n// import { signup } from '../services/auth';\nimport { signup, service, handleUpload } from '../services/auth';\nimport axios from 'axios';\n\n\n\nexport default function Signup(props) {\n\n\tconst [username, setUsername] = useState('');\n\tconst [password, setPassword] = useState('');\n  const [email, setEmail] = useState('');\n  const [city, setCity] = useState('');\n  const [country, setCountry] = useState('');\n  const [about, setAbout] = useState('');\n  const [avatarUrl, setAvatarUrl] = useState('');\n\tconst [message, setMessage] = useState('');\n\n\tconst handleSubmit = e => {\n\t\te.preventDefault();\n\t\t// console.log(username, password)\n\n\t\tsignup(username, password, email, city, country, about, avatarUrl)\n\t\t\t.then(response => {\n\t\t\t\t// console.log(response);\n\t\t\t\tif (response.message) {\n\t\t\t\t\t// reset the form \n\t\t\t\t\tsetUsername('');\n\t\t\t\t\tsetPassword('');\n          setEmail('');\n          setCity('');\n          setCountry('');\n          setAbout('');\n          setAvatarUrl('');\n\t\t\t\t\t// set the message\n\t\t\t\t\tsetMessage(response.message);\n\t\t\t\t} else {\n\t\t\t\t\t// user is correctly signed up in the backend\n\t\t\t\t\t// add the user to the state of App.js\n\t\t\t\t\tprops.setUser(response);\n\t\t\t\t\t// redirect to the lovepieces page\n\t\t\t\t\tprops.history.push('/lovepieces');\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => console.log(err));\n\t}\n\n\tconst uploadAvatar = () => {\n\n\t}\n\n\n\n\n\t\t\t\t\t\t\t\t\tconst handleFileUpload = e => {\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"The file to be uploaded is: \", e.target.files[0]);\n\t\t\t\t\t\t\t\t\t\tconst uploadData = new FormData();\n\t\t\t\t\t\t\t\t\t\tuploadData.append('avatarUrl', e.target.files[0]);\n\n\t\t\t\t\t\t\t\t\t\t// service\n\t\t\t\t\t\t\t\t\t\t// \t.handleUpload(uploadData)\n\t\t\t\t\t\t\t\t\t\thandleUpload(uploadData)\n\t\t\t\t\t\t\t\t\t\t\t.then(response => {\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"response is: \", response);\n\t\t\t\t\t\t\t\t\t\t\t\tsetAvatarUrl(response.secure_url);\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t.catch(err => console.log('Error while uploading the file: ', err));\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// https://my.ironhack.com/lms/courses/course-v1:IRONHACK+WDFT52+202108_BER/modules/ironhack-course-chapter_8/units/ironhack-course-chapter_8-sequential-vertical_2\n\t\t\t\t\t\t\t\t\t// https://github.dev/Ironhack-WDFT-August-2021/react-image-upload/tree/master/server\n\n\n\n\treturn (\n\t\t<>\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t<br /><br />\n\n\t\t\t\t<div className=\"columns is-centered\">\n\t\t\t\t\t<div className=\"box\">\n\t\t\t\t\t\t<h3 className=\"title is-4\">Create your account</h3>\n\n\t\t\t\t\t\t<div className=\"field is-grouped\">\n\t\t\t\t\t\t\t<label className=\"label mr-3\" htmlFor=\"username\">Username: </label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName=\"input\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\t\t\tonChange={e => setUsername(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"field is-grouped\">\n\t\t\t\t\t\t\t<label className=\"label mr-3\" htmlFor=\"password\">Password: </label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName=\"input\"\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\t\tonChange={e => setPassword(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"field is-grouped\">\n\t\t\t\t\t\t\t<label className=\"label mr-3\" htmlFor=\"email\">Email: </label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName=\"input\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\t\tonChange={e => setEmail(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"field is-grouped\">\n\t\t\t\t\t\t\t<label className=\"label mr-3\" htmlFor=\"city\">City: </label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName=\"input\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname=\"city\"\n\t\t\t\t\t\t\t\tvalue={city}\n\t\t\t\t\t\t\t\tonChange={e => setCity(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"field is-grouped\">\n\t\t\t\t\t\t<label className=\"label mr-3\" htmlFor=\"country\">Country: </label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"input\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tname=\"country\"\n\t\t\t\t\t\t\tvalue={country}\n\t\t\t\t\t\t\tonChange={e => setCountry(e.target.value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t\t<label className=\"label\" htmlFor=\"about\">Tell other people something about you: </label>\n\t\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\tclassName=\"textarea\" \n\t\t\t\t\t\t\t\t\tvalue={about}\n\t\t\t\t\t\t\t\t\tonChange={e => setAbout(e.target.value)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</textarea>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br />\n\n\t\t\t\t\t\t<div class=\"file has-name\">\n\t\t\t\t\t\t\t<label class=\"file-label\">\n\t\t\t\t\t\t\t\t<input class=\"file-input\" type=\"file\" name=\"resume\" onChange={handleFileUpload} />\n\t\t\t\t\t\t\t\t<span class=\"file-cta\">\n\t\t\t\t\t\t\t\t\t<span class=\"file-icon\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-upload\"></i>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span class=\"file-label\">\n\t\t\t\t\t\t\t\t\tUpload your profile image\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<div class=\"file-name\">\n\t\t\t\t\t\t\t\t\t{avatarUrl ? (\n\t\t\t\t\t\t\t\t\t\t<figure className=\"image is-32x32\">\n\t\t\t\t\t\t\t\t\t\t\t<img className=\"is-rounded\" src={avatarUrl} />\n\t\t\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t\t\t\t) : ('No file uploaded')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br /><br />\n\n\t\t\t\t\t\t<div class=\"buttons is-centered\">\n\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\tclassName=\"button is-primary is-focused\" \n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCreate account\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\n\n\n\t\t\t\t\t\t{message && (\n\t\t\t\t\t\t\t<article class=\"message is-dark\">\n\t\t\t\t\t\t\t\t<div class=\"message-body\">\n\t\t\t\t\t\t\t\t\t{message} \n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</article>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<br /><br />\n\n\t\t\t</form>\n\t\t</>\n\t)\n}\n\n\n","import { useState } from 'react'\nimport { login } from '../services/auth';\n\nexport default function Login(props) {\n\n\tconst [username, setUsername] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [message, setMessage] = useState('');\n\n\tconst handleSubmit = e => {\n\t\te.preventDefault();\n\t\t// console.log(username, password)\n\n\t\tlogin(username, password)\n\t\t\t.then(response => {\n\t\t\t\t// console.log(response);\n\t\t\t\tif (response.message) {\n\t\t\t\t\t// reset the form \n\t\t\t\t\tsetUsername('');\n\t\t\t\t\tsetPassword('');\n\t\t\t\t\t// set the message\n\t\t\t\t\tsetMessage(response.message);\n\t\t\t\t} else {\n\t\t\t\t\t// user is correctly signed up in the backend\n\t\t\t\t\t// add the user to the state of App.js\n\t\t\t\t\tprops.setUser(response);\n\t\t\t\t\t// redirect to the lovepieces page\n\t\t\t\t\tprops.history.push('/lovepieces');\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => console.log(err));\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<br /><br />\n\t\t\t<div className=\"columns is-centered\">\n\t\t\t\t<div className=\"box\">\n\n\t\t\t\t\t<h3 className=\"title is-4\">Login</h3>\n\n\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<div className=\"field is-grouped\">\n\t\t\t\t\t\t\t<label className=\"label mr-3\" htmlFor=\"username\">Username: </label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName=\"input\"\t\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\t\t\tonChange={e => setUsername(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"field is-grouped\">\n\t\t\t\t\t\t\t<label className=\"label mr-3\" htmlFor=\"password\">Password: </label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName=\"input\"\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\t\tonChange={e => setPassword(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<div class=\"buttons is-centered\">\n\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\tclassName=\"button is-primary is-focused\" \n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\tLog in\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{message && (\n\t\t\t\t\t\t\t<article class=\"message is-dark\">\n\t\t\t\t\t\t\t\t<div class=\"message-body\">\n\t\t\t\t\t\t\t\t\t{message} \n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</article>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</form>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<br /><br />\n\t\t</>\n\t)\n}","import axios from 'axios';\nimport { useState, useEffect } from 'react';\n\nexport default function Profile(props) {\n\n  const API_URL = 'http://localhost:5005';\n\n  const [user, setUser] = useState(props.user._id);\n  const [username, setUsername ] = useState('');\n  const [password, setPassword] = useState('');\n  const [email, setEmail] = useState('');\n  const [city, setCity] = useState('');\n  const [country, setCountry ] = useState('');\n  const [about, setAbout] = useState('');\n  const [avatarUrl, setAvatarUrl] = useState('');\n  const [favourites, setFavourites] = useState([]);\n\n  useEffect(() => {\n\t\taxios.get('/api/auth/loggedin')\n\t\t\t.then(response => {\n        // console.log('use effect: ', response.data);\n        setUsername(response.data.username);\n        setEmail(response.data.email);\n        setCity(response.data.city);\n        setCountry(response.data.country);\n        setAbout(response.data.about);\n        setAvatarUrl(response.data.avatarUrl);\n        setFavourites(response.data.favourites);\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}, [])\n\n\n  const handleSubmit = e => {\n\t\te.preventDefault();\n\t\tconst requestBody = { \n      username,\n      email,\n      city,\n      country,\n      about,\n      avatarUrl,\n      favourites\n    };\n\t\taxios.put(`${API_URL}/api/auth/${user}`, requestBody)\n\t\t\t.then(response => {\n\t\t\t\tprops.history.push('/lovepieces');\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\tconst uploadAvatar = () => {\n\n\t}\n\n  return (\n    \n    <div>\n      \n      <div className=\"column is-half ml-5\">\n        <div className=\"box\">\n        \n            <div class=\"columns\">\n              <div class=\"column is-two-thirds\">\n                <h3 className=\"title is-4\">Update your profile, {username}</h3>\n              </div>\n              <div class=\"column is-one-third\">\n                <figure class=\"image is-128x128\">\n                  <img src={avatarUrl} />\n                </figure>\n              </div>\n            </div>\n\n            <form onSubmit={handleSubmit}>\n\n              <div className=\"field is-grouped\">\n                <label className=\"label mr-3\" htmlFor=\"email\">Email: </label>\n                <input\n                  className=\"input\"\n                  type=\"text\"\n                  name=\"email\"\n                  value={email}\n                  onChange={e => setEmail(e.target.value)}\n                />\n              </div>\n\n              <div className=\"field is-grouped\">\n                <label className=\"label mr-3\" htmlFor=\"city\">City: </label>\n                <input\n                  className=\"input\"\n                  type=\"text\"\n                  name=\"city\"\n                  value={city}\n                  onChange={e => setCity(e.target.value)}\n                />\n              </div>\n\n              <div className=\"field is-grouped\">\n                <label className=\"label mr-3\" htmlFor=\"country\">Country: </label>\n                <input\n                  className=\"input\"\n                  type=\"text\"\n                  name=\"country\"\n                  value={country}\n                  onChange={e => setCountry(e.target.value)}\n                />\n              </div>\n\n              <div className=\"field\">\n                <label className=\"label\" htmlFor=\"about\">About you: </label>\n                <div className=\"control\">\n                  <textarea\n                    className=\"textarea\" \n                    value={about}\n                    onChange={e => setAbout(e.target.value)}\n                  >\n                  </textarea>\n                </div>\n              </div>\n              <br />\n                \n              <div className=\"field\">\n                <button \n                  className=\"button is-warning is-light is-focused\" \n                  onClick={uploadAvatar}\n                >\n                Change your profile image\n                </button>\n              </div>\n              <br /><br />\n      \n              <div class=\"buttons is-centered\">\n                <button \n                  className=\"button is-primary is-focused\" \n                  type=\"submit\"\n                >\n                Save changes\n                </button>\n              </div>\n\n            </form>\n\n        </div>\n      </div>\n      <br />\n\n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function About() {\n  return (\n    <div class=\"columns is-centered\">\n      <div class=\"column is-two-thirds\">\n      <br /><br />\n      <figure class=\"image is-square\">\n        <img src=\"https://res.cloudinary.com/give-and-receive/image/upload/v1633599416/g-and-r/G_R-About-980x980_mptjr7.jpg\" />\n      </figure>\n      <br /><br /><br /><br />\n      </div>\n    </div>\n  )\n}\n\n\n// https://res.cloudinary.com/give-and-receive/image/upload/v1633599727/g-and-r/G_R-About-500x500_nghyjy.jpg\n\n// https://res.cloudinary.com/give-and-receive/image/upload/v1633599416/g-and-r/G_R-About-980x980_mptjr7.jpg","import React from 'react'\n\nexport default function MessageCard(props) {\n\n  const line = props.payload\n\n  return (\n    <div>\n      <p>{line}</p>\n      <br />\n    </div>\n  )\n}\n","import { useState, useEffect, useRef } from 'react'\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport MessageCard from '../components/MessageCard';\n\nimport socketIOClient from 'socket.io-client';\nconst socket = socketIOClient('http://localhost:5005');\n\nexport default function LovepieceDetails(props) {\n\t\n  const API_URL = 'http://localhost:5005';\n\tconst [lovepiece, setLovepiece] = useState(null);\n\tconst [formattedDateCreated, setFormattedDateCreated] = useState('');\n\tconst [message, setMessage] = useState('');\n\tconst [payload, setPayload] = useState('');\n\tconst [socketMessage, setSocketMessage] = useState ('');\n\tconst lovepieceId = props.match.params.id;\n  const user = props.user._id;\n\tconst username = props.user.username\n\n  // console.log('lovepieceDetails user: ', user)\n\n\tconst getLovepiece = () => {\n\t\taxios.get(`${API_URL}/api/lovepieces/${lovepieceId}`)\n\t\t\t.then(response => {\n\t\t\t\t// console.log(response.data);\n\t\t\t\tsetLovepiece(response.data);\n\t\t\t\tsetFormattedDateCreated(\n\t\t\t\t\tresponse.data.dateCreated.slice(8,10) + '/' +\n\t\t\t\t\tresponse.data.dateCreated.slice(5,7) + '/' +\n\t\t\t\t\tresponse.data.dateCreated.slice(0,4)\n\t\t\t\t);\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\tuseEffect(() => {\n\t\tgetLovepiece();\n\t}, [])\n\n\tuseEffect(() => {\n\t\tconst today = new Date().toLocaleString();\n\t\tconst messageToPost = `${today}: ${username} wrote ${message}`;\n\t\tsetPayload(messageToPost);\n\t}, [message])\n\n\t//<<<<<<< To receieve from socket <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<\n  useEffect(() => {\n    socket.on('emittedMessage', content => {\n      setSocketMessage(content.emittedMessage);\n    })\n  }, [])\n\t//<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<\n\n\tconst handleSubmit = e => {\n\t\te.preventDefault();\n\t\tconst requestBody = {payload};\n\t\taxios.patch(`${API_URL}/api/lovepieces/addmessage/${lovepieceId}`, requestBody)\n\t\t\t.then(response => {\n\t\t\t\tsetMessage('')\n\t\t\t\t//<<<<<<<< To emit to socket <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<\n\t\t\t\tsetSocketMessage(socketMessage + payload)\n\t\t\t\tsocket.emit('new-message', { \n\t\t\t\t\temittedMessage: socketMessage\n\t\t\t\t})\n\t\t\t\t//<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<\n\t\t\t\t// props.history.push(`/lovepieces/${lovepieceId}`)\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\n\n\n\n\treturn (\n\t\t<div>\n\t\t\t{lovepiece && (\n\t\t\t\t<div className=\"columns\">\n\t\t\t\t\t<div className=\"column\">\n\t\t\t\t\t\t<div className=\"box\">\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<div className=\"block\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"media\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"media-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t<figure className=\"image is-48x48\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img className=\"is-rounded\" src=\"https://bulma.io/images/placeholders/96x96.png\" alt=\"Placeholder image\" />\n\t\t\t\t\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"media-content\">\n\t\t\t\t\t\t\t\t\t\t\t\t<h4><strong>{lovepiece.owner.username}</strong></h4>\n\t\t\t\t\t\t\t\t\t\t\t\t<h4>Lovepiece created on {formattedDateCreated}</h4>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"box\">\n\t\t\t\t\t\t\t\t\t<h2 className=\"title is-5\"><strong>{lovepiece.type} of {lovepiece.category}:</strong> {lovepiece.title}</h2>\n\t\t\t\t\t\t\t\t\t<p>{lovepiece.description}</p>\n\t\t\t\t\t\t\t\t\t<br /><br />\n\t\t\t\t\t\t\t\t\t<p><strong>Tags: </strong>{lovepiece.tags}</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{lovepiece.owner._id === user && (\n\t\t\t\t\t\t\t\t\t\t<Link to={`/lovepieces/edit/${lovepiece._id}`}>\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"button is-warning is-light\">Edit this lovepiece</button>\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t)} \n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"column\">\n\t\t\t\t\t\t<div className=\"box\">\n\t\t\t\t\t\t\t<div className=\"block\">\n\t\t\t\t\t\t\t\t<h1 className=\"title is-5\">Message board</h1>\n\t\t\t\t\t\t\t\t{lovepiece.board.map(message => <MessageCard {...message} />)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/* <div>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<h3>Socket message should be below this line </h3>\n\t\t\t\t\t\t\t\t{socketMessage}\n\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t\t\t\t<textarea \n\t\t\t\t\t\t\t\t\t\t\tclassName=\"textarea\" \n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Write your message here\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={message}\n\t\t\t\t\t\t\t\t\t\t\tonChange={e => setMessage(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t</textarea>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"button is-info\"\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tPost this message to the board\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<br />\n\t\t</div>\n\t)\n\n}\n\n\n\n","import axios from 'axios';\nimport { useState, useEffect } from 'react';\n\nexport default function EditLovepiece(props) {\n\n  // const user = props.user._id;\n  // console.log(user);\n  \n  const API_URL = 'http://localhost:5005';\n  \n  const [user, setUser] = useState(props.user._id);\n  const [owner, setOwner] = useState('');\n  const [title, setTitle] = useState('');\n\tconst [type, setType] = useState('');\n  const [dateCreated, setDateCreated] = useState('');\n  const [formattedDateCreated, setFormattedDateCreated] = useState('');\n  const [stillValid, setStillValid] = useState(true);\n  const [description, setDescription] = useState('');\n  const [coords, setCoords] = useState([]);\n  const [category, setCategory] = useState('');\n  const [subCategory, setSubCategory] = useState('');\n  const [tags, setTags] = useState([]);\n  \n  const lovepieceId = props.match.params.id;\n  // console.log(lovepieceId);\n  \n  useEffect(() => {\n\t\taxios.get(`${API_URL}/api/lovepieces/${lovepieceId}`)\n\t\t\t.then(response => {\n\t\t\t\tconsole.log('use effect: ', response.data);\n\t\t\t\tsetUser(response.data.user);\n        setOwner(response.data.owner._id);\n        setTitle(response.data.title);\n        setType(response.data.type);\n        setDateCreated(response.data.dateCreated);\n        setFormattedDateCreated(\n\t\t\t\t\tresponse.data.dateCreated.slice(8,10) + '/' +\n\t\t\t\t\tresponse.data.dateCreated.slice(5,7) + '/' +\n\t\t\t\t\tresponse.data.dateCreated.slice(0,4)\n\t\t\t\t);\n        setStillValid(response.data.stillValid);\n\t\t\t\tsetDescription(response.data.description);\n        setCoords(response.data.coords);\n        setCategory(response.data.category);\n        setSubCategory(response.data.subCategory);\n        setTags(response.data.tags);\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}, [])\n\n  const deleteLovepiece = () => {\n\t\taxios.delete(`${API_URL}/api/lovepieces/${lovepieceId}`)\n\t\t\t.then(() => {\n\t\t\t\tprops.history.push('/lovepieces');\n\t\t\t})\n\t\t\t.catch(err => console.log(err));\n\t}\n\n  const handleStillValidChange = event => {\n    setStillValid(!stillValid)\n  }\n\n  const handleSubmit = e => {\n\t\te.preventDefault();\n\t\tconst requestBody = { \n      owner,\n      title, \n      type,\n      dateCreated,\n      stillValid,\n      description, \n      coords,\n      category,\n      subCategory,\n      tags\n    };\n\t\taxios.put(`${API_URL}/api/lovepieces/${lovepieceId}`, requestBody)\n\t\t\t.then(response => {\n\t\t\t\tprops.history.push(`/lovepieces/${lovepieceId}`);\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\n\n\n\n  return (\n    <div>\n\n\n      <div className=\"box\">\n\n        <h3 className=\"title is-4\">Edit your lovepiece</h3>\n        {/* <h4>(coords: {coords})</h4> */}\n        <h4 className=\"subtitle is-6\">Created on {formattedDateCreated}</h4>\n        <h4><strong>Type: </strong>{type}</h4>\n        <h4><strong>Category: </strong>{category}</h4>\n        <br />\n\n        <form onSubmit={handleSubmit}>\n\n          <div className=\"box\">\n\n            <div className=\"field\">\n              <label class=\"checkbox\">Still active? </label>\n              <input \n                className=\"ml-2\"\n                type=\"checkbox\" \n                name=\"stillValid\"\n                checked={stillValid}\n                onChange={handleStillValidChange}\n              />\n            </div>\n              \n            <div className=\"field\">\n\t\t\t\t\t\t\t<label className=\"label\" htmlFor=\"title\">Lovepiece title: </label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName=\"input\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\t\tonChange={e => setTitle(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t\t<label className=\"label\">Description</label>\n\t\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t\t<textarea \n\t\t\t\t\t\t\t\t\tclassName=\"textarea\" \n\t\t\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\t\t\tonChange={e => setDescription(e.target.value)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</textarea>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n            <div className=\"field\">\n              <label className=\"label\" htmlFor=\"tags\">Tags: </label>\n              <input\n                className=\"input\"\n                type=\"text\"\n                name=\"tags\"\n                value={tags}\n                onChange={e => setTags(e.target.value)}\n              />   \n            </div>\n\n            <br />\n            <button\n              className=\"button is-primary\"\n              type=\"submit\"\n            >\n            Update this lovepiece\n            </button>\n\n          </div>\n\n\n          \n          <br />\n        \n        </form>\n\n       \n          <button \n            className=\"button is-danger ml-5\"\n            onClick={deleteLovepiece}\n          >\n          Delete this lovepiece\n          </button>\n          <br /><br />\n\n      </div>\n\n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function Footer() {\n  return (\n    <footer className=\"footer\">\n      <div class=\"columns is-centered\">\n        <div className=\"column is-one-third is-centered\">\n          <figure className=\"image\">\n            <img src=\"https://res.cloudinary.com/give-and-receive/image/upload/v1633514332/g-and-r/hands-transparent-500x305_kipvgr.png\" />\n          </figure>\n          <div className=\"content has-text-centered\"> \n            <p>\n              <strong>Give and Receive</strong> - created by Esteban, with lots of effort and love.\n            </p>\n          </div>\n        </div>\n      </div>\n    </footer>\n  )\n}\n\n\n// 880\n// 558","import { useState, useEffect } from 'react';\nimport socketIOClient from 'socket.io-client';\n\nconst socket = socketIOClient('http://localhost:5005');\n\nexport default function Conversation() {\n\n  // repo example\n  const [message, setMessage] = useState('');\n\n  const [lovepiece, setLovepiece] = useState('');\n  const [iniciator, setIniciator] = useState('');\n  const [counterpart, setCounterpart] = useState('');\n  const [timestamp, setTimestamp] = useState('');\n  const [sender, setSender] = useState('');\n  const [recipient, setRecipient] = useState('');\n  const [payload, setPayload] = useState('');\n\n  useEffect(() => {\n    socket.on('message', payload => {\n      setMessage(payload.message);\n    })\n  }, [])\n\n  const onChange = e => {\n    setMessage(e.target.value);\n    // send a message to the server \n    socket.emit('new-message', {\n      message: e.target.value\n    })\n  }\n\n\n\n\n  return (\n    <div>\n      <header className=\"App-header\">\n        <input type=\"text\" value={message} onChange={onChange} />\n      </header>\n    </div>\n  )\n}\n","// import './App.css';\nimport { useState } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\n\nimport Map from './components/Map';\nimport ProtectedRoute from './components/ProtectedRoute';\nimport Navbar from './components/Navbar';\nimport Landing from './pages/Landing';\nimport Lovepieces from './pages/Lovepieces';\nimport Signup from './pages/Signup';\nimport Login from './pages/Login';\nimport Profile from './pages/Profile';\nimport About from './pages/About';\nimport AddLovepiece from './pages/AddLovepiece';\nimport LovepieceDetails from './pages/LovepieceDetails';\nimport EditLovepiece from './pages/EditLovepiece';\nimport Footer from './components/Footer';\nimport Conversation from './pages/Conversation';\n// import Connection from './pages/Connection';\n\n\nfunction App(props) {\n\n  const [user, setUser] = useState(props.user)\n\n  // ------------------------------------------------------------\n  const addUser = user => setUser(user);\n  // Had to put setUser in another function and reference it in\n  // the signup render props because if not it was not working \n  // like this:\n  //    render={props => <Signup setUser={setUser} {...props} />}\n  // Was getting an error \"props.setUser is not a function\" \n  // Didn't know why...\n  // ------------------------------------------------------------\n\n  return (\n    <div className=\"App\">\n\n      <Navbar user={user} setUser={addUser} />\n\n      <Switch>\n\n        <Route exact path=\"/\" component={Landing} />\n\n        <Route\n          exact path=\"/signup\"\n          render={props => <Signup setUser={addUser} {...props} />}\n        />\n          \n        <Route\n          exact path=\"/login\"\n          render={props => <Login setUser={addUser} {...props} />}\n        />\n\n        <ProtectedRoute exact path='/lovepieces' user={user} component={Lovepieces} />\n\n        <ProtectedRoute exact path='/lovepieces/add' user={user} component={AddLovepiece} />\n\n        <ProtectedRoute exact path='/lovepieces/:id' user={user} component={LovepieceDetails} />\n\n        <ProtectedRoute exact path='/lovepieces/edit/:id' user={user} component={EditLovepiece} />\n\n        {/* <ProtectedRoute exact path='/lovepieces/connect/:id' user={user} component={Connection} /> */}\n\n        <ProtectedRoute exact path='/profile' user={user} component={Profile} />\n\n        <ProtectedRoute exact path='/about' user={user} component={About} />\n\n        <ProtectedRoute exact path='/conversation' user={user} component={Conversation} />\n\n\n\n      </Switch>\n\n      <Footer />\n\n    </div>\n  );\n}\n\nexport default App;\n\n\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport axios from 'axios';\n\n\n\n\n// get the logged in user from the backend and pass it to App.js\naxios.get('/api/auth/loggedin')\n  .then(response => {\n    // console.log('logged in user from backend to app: ', response.data);\n    const user = response.data;\n    ReactDOM.render(\n      <Router>\n        <App user={user} />\n      </Router>,\n      document.getElementById('root')\n    );\n  })\n\n\n\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}